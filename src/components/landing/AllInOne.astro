---
const { class: className } = Astro.props;

// Textos optimizados para un tono más profesional y directo
const stats = [
  {
    title: "Ingeniería de Conversión",
    description: "Diseñamos interfaces que no solo se ven bien; son máquinas de venta optimizadas para maximizar tu retorno de inversión.",
  },
  {
    title: "Performance Extremo",
    description: "Tu sitio cargará en milisegundos. Utilizamos el stack más rápido del mundo para que Google y tus usuarios te amen.",
  },
  {
    title: "Software a Medida",
    description: "Tu negocio es único, tu software también debe serlo. Escalabilidad total sin las limitaciones de las plantillas genéricas.",
  },
];
---

<section id="all-in-one" class:list={["relative overflow-hidden bg-zinc-950", className]}>
  <div class="px-8 py-12 mx-auto md:px-12 2xl:max-w-7xl lg:py-32">
    <div class="grid grid-cols-1 gap-4 xl:grid-cols-2 items-stretch">
      
      <div class="all-in-one-card p-8 lg:p-20 bg-zinc-900 rounded-4xl lg:rounded-5xl border border-zinc-800 flex flex-col justify-center opacity-0 translate-y-10">
        <div class="inline-flex items-center gap-4">
          <div class="w-12 h-0.5 bg-lime-400"></div>
          <span class="text-xs font-mono font-semibold tracking-widest uppercase text-zinc-500">
            Filosofía Vantta
          </span>
        </div>
        
        <h2 class="text-4xl mt-8 font-display lg:text-7xl font-black text-white leading-[0.9] tracking-tighter uppercase italic">
          Arquitectura <br/> digital <span class="text-lime-400">sin límites.</span>
        </h2>
        
        <div class="text-zinc-400 text-lg mt-10 space-y-6 leading-relaxed font-medium">
          <p>
            En <strong class="text-white">Vantta Studio</strong>, no decoramos la web; la construimos. Convertimos desafíos operativos complejos en flujos digitales elegantes y eficientes.
          </p>
          <p>
            Nuestra obsesión por el detalle técnico garantiza que cada proyecto sea una ventaja competitiva real para tu marca.
          </p>
        </div>
      </div>

      <div class="all-in-one-stats grid grid-cols-1 items-center rounded-4xl lg:rounded-5xl gap-12 h-full p-8 lg:p-20 list-none bg-lime-400 opacity-0 translate-y-10">
        <ol role="list" class="space-y-12">
          {stats.map((stat) => (
            <li class="stat-item border-b border-black/10 pb-8 last:border-0 last:pb-0">
              <h3 class="text-2xl lg:text-4xl tracking-tighter font-black text-black font-display uppercase italic leading-none">
                {stat.title}
              </h3>
              <p class="mt-4 text-base lg:text-lg text-zinc-900 leading-snug font-semibold max-w-md">
                {stat.description}
              </p>
            </li>
          ))}
        </ol>
      </div>
      
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  function initAllInOne() {
    // Animación de los contenedores principales
    gsap.to(".all-in-one-card, .all-in-one-stats", {
      opacity: 1,
      y: 0,
      duration: 1,
      stagger: 0.2,
      ease: "expo.out",
      scrollTrigger: {
        trigger: "#all-in-one",
        start: "top 75%",
      }
    });

    // Animación de los items de la lista (stagger)
    gsap.from(".stat-item", {
      opacity: 0,
      x: 30,
      duration: 0.8,
      stagger: 0.15,
      ease: "power3.out",
      delay: 0.4,
      scrollTrigger: {
        trigger: ".all-in-one-stats",
        start: "top 80%",
      }
    });
  }

  document.addEventListener("astro:page-load", initAllInOne);
  initAllInOne();
</script>

<style>
  .rounded-4xl { border-radius: 2.5rem; }
  @media (min-width: 1024px) {
    .rounded-5xl { border-radius: 3.5rem; }
  }
  
  /* Mejoramos la legibilidad del texto en el fondo lima */
  .all-in-one-stats p {
    text-wrap: balance;
  }
</style>